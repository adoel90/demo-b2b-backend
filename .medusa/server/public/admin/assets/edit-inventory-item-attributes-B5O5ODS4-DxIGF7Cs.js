import{C as b}from"./chunk-SCBXRJPV-DzI_YWd9.js";import{K as y}from"./chunk-6HTZNHPT-DYv5rdOA.js";import{b as h,u as I}from"./chunk-4TC5YS65-DXocPEx1.js";import{$ as F,b as f,e5 as w,j as e,H as C,aj as E,ak as _,eb as L,t as p,x as r,I as u,B as v,an as a}from"./index-BgVe_0kv.js";var M=a.object({height:a.number().positive().optional(),width:a.number().positive().optional(),length:a.number().positive().optional(),weight:a.number().positive().optional(),mid_code:a.string().optional(),material:a.string().optional(),hs_code:a.string().optional(),origin_country:a.string().optional()}),S=s=>({height:s.height??void 0,width:s.width??void 0,length:s.length??void 0,weight:s.weight??void 0,mid_code:s.mid_code??void 0,material:s.material??void 0,hs_code:s.hs_code??void 0,origin_country:s.origin_country??void 0}),A=({item:s})=>{const{t:n}=f(),{handleSuccess:x}=I(),o=E({defaultValues:S(s),resolver:_(M)}),{mutateAsync:m,isPending:j}=L(s.id),g=o.handleSubmit(async t=>{await m(t,{onSuccess:()=>{p.success(n("inventory.toast.updateItem")),x()},onError:l=>p.error(l.message)})});return e.jsx(h.Form,{form:o,children:e.jsxs(y,{onSubmit:g,className:"flex flex-1 flex-col overflow-hidden",children:[e.jsxs(h.Body,{className:"flex flex-1 flex-col gap-y-4 overflow-auto",children:[e.jsx(r.Field,{control:o.control,name:"height",render:({field:{onChange:t,value:l,...d}})=>e.jsxs(r.Item,{children:[e.jsx(r.Label,{optional:!0,children:n("fields.height")}),e.jsx(r.Control,{children:e.jsx(u,{type:"number",min:0,value:l||"",onChange:c=>{const i=c.target.value;t(i===""?null:parseFloat(i))},...d})}),e.jsx(r.ErrorMessage,{})]})}),e.jsx(r.Field,{control:o.control,name:"width",render:({field:{onChange:t,value:l,...d}})=>e.jsxs(r.Item,{children:[e.jsx(r.Label,{optional:!0,children:n("fields.width")}),e.jsx(r.Control,{children:e.jsx(u,{type:"number",min:0,value:l||"",onChange:c=>{const i=c.target.value;t(i===""?null:parseFloat(i))},...d})}),e.jsx(r.ErrorMessage,{})]})}),e.jsx(r.Field,{control:o.control,name:"length",render:({field:{onChange:t,value:l,...d}})=>e.jsxs(r.Item,{children:[e.jsx(r.Label,{optional:!0,children:n("fields.length")}),e.jsx(r.Control,{children:e.jsx(u,{type:"number",min:0,value:l||"",onChange:c=>{const i=c.target.value;t(i===""?null:parseFloat(i))},...d})}),e.jsx(r.ErrorMessage,{})]})}),e.jsx(r.Field,{control:o.control,name:"weight",render:({field:{onChange:t,value:l,...d}})=>e.jsxs(r.Item,{children:[e.jsx(r.Label,{optional:!0,children:n("fields.weight")}),e.jsx(r.Control,{children:e.jsx(u,{type:"number",min:0,value:l||"",onChange:c=>{const i=c.target.value;t(i===""?null:parseFloat(i))},...d})}),e.jsx(r.ErrorMessage,{})]})}),e.jsx(r.Field,{control:o.control,name:"mid_code",render:({field:t})=>e.jsxs(r.Item,{children:[e.jsx(r.Label,{optional:!0,children:n("fields.midCode")}),e.jsx(r.Control,{children:e.jsx(u,{...t})}),e.jsx(r.ErrorMessage,{})]})}),e.jsx(r.Field,{control:o.control,name:"hs_code",render:({field:t})=>e.jsxs(r.Item,{children:[e.jsx(r.Label,{optional:!0,children:n("fields.hsCode")}),e.jsx(r.Control,{children:e.jsx(u,{...t})}),e.jsx(r.ErrorMessage,{})]})}),e.jsx(r.Field,{control:o.control,name:"material",render:({field:t})=>e.jsxs(r.Item,{children:[e.jsx(r.Label,{optional:!0,children:n("fields.material")}),e.jsx(r.Control,{children:e.jsx(u,{...t})}),e.jsx(r.ErrorMessage,{})]})}),e.jsx(r.Field,{control:o.control,name:"origin_country",render:({field:t})=>e.jsxs(r.Item,{children:[e.jsx(r.Label,{optional:!0,children:n("fields.countryOfOrigin")}),e.jsx(r.Control,{children:e.jsx(b,{...t})}),e.jsx(r.ErrorMessage,{})]})})]}),e.jsx(h.Footer,{children:e.jsxs("div",{className:"flex items-center justify-end gap-x-2",children:[e.jsx(h.Close,{asChild:!0,children:e.jsx(v,{variant:"secondary",size:"small",children:n("actions.cancel")})}),e.jsx(v,{type:"submit",size:"small",isLoading:j,children:n("actions.save")})]})})]})})},P=()=>{const{id:s}=F(),{t:n}=f(),{inventory_item:x,isPending:o,isError:m,error:j}=w(s),g=!o&&x;if(m)throw j;return e.jsxs(h,{children:[e.jsx(h.Header,{children:e.jsx(C,{children:n("products.editAttributes")})}),g&&e.jsx(A,{item:x})]})};export{P as Component};
